
<br>
<div class="a">
    <h3 class="header"> Thông tin của Quán</h3>
    <div *ngIf="checkquan; then display2; else loading2"></div>
    <ng-template #display2>
        <table style="width: 100%;">
            <tr>
                <td style="text-align: center; width: 50%;" rowspan="4">
                    <div *ngIf="quan.image">
                        <img src="{{url+'/'+quan.image}}">
                    </div>
                    <div *ngIf="!quan.image">
                        <img class="profile_img" src="../../../assets/img/avatar.jpg">
                    </div>
                </td>
                <td style="text-align: center;"> <strong>{{ quan.name }}</strong></td>
            </tr>
            <tr>
                <td style="text-align: center;"><strong>{{ quan.phone}}</strong></td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <strong>{{ quan.address}}</strong>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <span *ngIf="mangreviewquan[0]" class="fa fa-star checked"></span>
                    <span *ngIf="!mangreviewquan[0]" class="fa fa-star nochecked"></span>
                    <span *ngIf="mangreviewquan[1]" class="fa fa-star checked"></span>
                    <span *ngIf="!mangreviewquan[1]" class="fa fa-star nochecked"></span>
                    <span *ngIf="mangreviewquan[2]" class="fa fa-star checked"></span>
                    <span *ngIf="!mangreviewquan[2]" class="fa fa-star nochecked"></span>
                    <span *ngIf="mangreviewquan[3]" class="fa fa-star checked"></span>
                    <span *ngIf="!mangreviewquan[3]" class="fa fa-star nochecked"></span>
                    <span *ngIf="mangreviewquan[4]" class="fa fa-star checked"></span>
                    <span *ngIf="!mangreviewquan[4]" class="fa fa-star nochecked"></span>
                </td>
            </tr>
        </table>
    </ng-template>
    <ng-template #loading2>
        <div class="text-center">
            <div class="spinner-grow" style="width: 15rem; height: 15rem;text-align: center;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </ng-template>
</div>
<br>
<div class="b">
    <h3 class="header" style="height: 35px;"> Chức năng của quán</h3>
    <div class="card-body">
        <table style="width:100%;">
            <tr style="width:100%;">
                <td style="width:25%;"><input type="button" class="border1" (click)="editquan()" value="Chỉnh sữa quán" />
                </td>
                <td style="width:25%;"><input type="button" class="border1 " (click)="addSan()" value="thêm Sân" /></td>
                <td style="width:25%;"><input type="button" class="border1" (click)="xemdanhthu()"
                        value="xem danh thu của quán" /></td>
                <td style="width:25%;"><input type="button" class="border1 " (click)="xemdanhsachdatsan()"
                        value="Xem danh sách đặt sân" /></td>
            </tr>
        </table>
    </div>
</div>


<div class="b">
    <div class="header">
        <h3 class="header">Tình trạng đặt sân</h3>
        <div class="form-group header">
            <div>
                Hãy chọn ngày đặt sân :
                <input type="date" [(ngModel)]="today" (change)="chonngay($event);">
            </div>
        </div>
    </div>
    <div *ngIf="checkdatsan then display; else loading"></div>
    <ng-template #display>
        <table class="table" style="width:100%" border="1">
            <thead>
                <tr>
                    <td style="width:4%;"><strong>Tên Sân</strong></td>
                    <td style="width:6%"><strong>5h</strong></td>
                    <td style="width:6%"><strong>6h</strong></td>
                    <td style="width:6%"><strong>7h</strong></td>
                    <td style="width:6%"><strong>8h</strong></td>
                    <td style="width:6%"><strong>9h</strong></td>
                    <td style="width:6%"><strong>10h</strong></td>
                    <td style="width:6%"><strong>11h</strong></td>
                    <td style="width:6%"><strong>12h</strong></td>
                    <td style="width:6%"><strong>13h</strong></td>
                    <td style="width:6%"><strong>14h</strong></td>
                    <td style="width:6%"><strong>15h</strong></td>
                    <td style="width:6%"><strong>16h</strong></td>
                    <td style="width:6%"><strong>17h</strong></td>
                    <td style="width:6%"><strong>18h</strong></td>
                    <td style="width:6%"><strong>19h</strong></td>
                    <td style="width:6%"><strong>20h</strong></td>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let san of sansTT ;index as i">
                    <td >
                        <strong>{{san.name}}</strong>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][0]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][0],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][1]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][1],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][2]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][2],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][3]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][3],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][4]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][4],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][5]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][5],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][6]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][6],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][7]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][7],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][8]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][8],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][9]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][9],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][10]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][10],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][11]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][11],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][12]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][12],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][13]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][13],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][14]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][14],san)">Chọn</button>
                    </td>
                    <td >
                        <button *ngIf="mangDatsan[i][15]" class="border1"
                            (click)="hienthongtindatsan(mangDatsan[i][15],san)">Chọn</button>
                    </td>
            
                </tr>
            </tbody>
        </table>
    </ng-template>
    <ng-template #loading>
        <div class="text-center">
            <div class="spinner-grow" style="width: 15rem; height: 15rem;text-align: center;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </ng-template>
</div>

<div class="b">
    <h3 class="header">Danh sách các sân bóng</h3>
    <div *ngIf="checkdatsan; then display1; else loading1"></div>
    <ng-template #display1>
        <div class="row">
            <div class="col-sm-4" *ngFor="let san of sans ;index as i">
                <div class="card">
                    <div style="text-align: center; background-color: #41c04d;color: white;" >
                        <strong>{{ san.name }}</strong>
                    </div>
                    <table class="table">
                        <tr>
                            <td>Loại sân</td>
                            <td><strong> Sân &ensp;{{ san.numberpeople}}</strong></td>
                        </tr>
                        <tr>
                            <td>Chi phí</td>
                            <td><strong>{{ san.priceperhour }} vnd/giờ</strong></td>
                        </tr>
                        <tr class="bi bi-align-center">
                            <td class="custom-control custom-switch">
                                <input [checked]="san.trangthai" type="checkbox" class="custom-control-input">
                                <label class="custom-control-label" (click)="thaydoi(san.id,san.trangthai)" for="status">
                                </label>
                            </td>
                            <td>
                                <fa-icon routerLink="/innkeeper/editSan/{{san.id}}" class='fas' [icon]='["fas","edit"]'></fa-icon>
                            </td>
                        
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template #loading1>
        <div class="text-center">
            <div class="spinner-grow" style="width: 15rem; height: 15rem;text-align: center;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </ng-template>
</div>

<br>

<h3 class="header">Bình Luận</h3>
<div class="card-body">
    <div *ngIf="checkcomments; then display3; else loading3"></div>
    <ng-template #display3>
        <div class="row">
            <div class="card-body">
                <div class="form-group row" *ngFor="let comment of mangBLNew ;index as i">
                    <label class="col-lg-1 col-form-label form-control-label">
                        <img class="card-img-top" style="width: 100px; height: 100px" src="../../../assets/img/avatar.jpg"
                            alt="Card image cap">
                    </label>
                    <div class="col-lg-11">
                        <h5>
                            <strong>{{comment.tenUser}}</strong>
                            {{comment.Create_time}}
                        </h5>
                        <div class="input-group">
                            {{comment.binhluan}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <nav aria-label="...">
            <ul class="pagination justify-content-center">
                <div class="row" style="color:forestgreen">
                    <input type="button" class="btn btn-success" (click)="Previous()" value="Trước">        
                    <div *ngFor="let vitri of mangtrang; index as i">
                        <div *ngIf="page==i-2">
                            <a class="page-link">... </a>
                        </div>
                        <div *ngIf="page>i-2 && page<i+4">
                            <li *ngIf="vitri" class="page-item active">
                                <a class="page-link" (click)="chontrang(i+1)">{{i+1}} </a>
                            </li>
                            <li *ngIf="!vitri" class="page-item">
                                <a class="page-link" (click)="chontrang(i+1)">{{i+1}} </a>
                            </li>
                        </div>
                        <div *ngIf="page==i+4">
                            <a class="page-link">... </a>
                        </div>
                    </div>
                    <input type="button" class="btn border1" (click)="Next()" value="Sau">
                </div>
            </ul>
        </nav>
    </ng-template>
    <ng-template #loading3>
        <div class="text-center">
            <div class="spinner-grow" style="width: 15rem; height: 15rem;text-align: center;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </ng-template>
</div>